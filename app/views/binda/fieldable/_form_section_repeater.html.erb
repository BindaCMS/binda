<%# - - - - - - - - - - - - %>
<%# TEXT / STRING           %>
<%# - - - - - - - - - - - - %>
<% if repeater_setting_child.field_type == 'text' %>
  <% current = @instance.repeaters.select{|r| r.id == f.object.id}.first.find_or_create_a_field_by( repeater_setting_child.id, 'text' ) %>
  <%= f.simple_fields_for "texts_attributes[]", current do |ff| %>
    <%= render 'binda/fieldable/form_item_text', ff: ff, field_setting: repeater_setting_child %>
  <% end %>


<%# - - - - - - - - - - - - %>
<%# STRING                  %>
<%# - - - - - - - - - - - - %>
<% elsif repeater_setting_child.field_type == 'string' %>
  <% current = @instance.repeaters.select{|r| r.id == f.object.id}.first.find_or_create_a_field_by( repeater_setting_child.id, 'string' ) %>
  <%= f.simple_fields_for "strings_attributes[]", current do |ff| %>
    <%= render 'binda/fieldable/form_item_string', ff: ff, field_setting: repeater_setting_child %>
  <% end %>


<%# - - - - - - - - - - - - %>
<%# DATE                    %>
<%# - - - - - - - - - - - - %>
<% elsif repeater_setting_child.field_type == 'date' %>
  <% current = @instance.repeaters.select{|r| r.id == f.object.id}.first.find_or_create_a_field_by( repeater_setting_child.id, 'date' ) %>
  <%= f.simple_fields_for "dates_attributes[]", current do |ff| %>
    <%= render 'binda/fieldable/form_item_date', ff: ff, field_setting: repeater_setting_child %>
  <% end %>


<%# - - - - - - - - - - - - %>
<%# IMAGE                   %>
<%# - - - - - - - - - - - - %>
<% elsif repeater_setting_child.field_type == 'image' %>
  <% current = @instance.repeaters.select{|r| r.id == f.object.id}.first.find_or_create_a_field_by( repeater_setting_child.id, 'image' ) %>
  <%= f.simple_fields_for "images_attributes[]", current do |ff| %>
    <%= render 'binda/fieldable/form_item_image', ff: ff, field_setting: repeater_setting_child %>
  <% end %>


<%# - - - - - - - - - - - - %>
<%# VIDEO                   %>
<%# - - - - - - - - - - - - %>
<% elsif repeater_setting_child.field_type == 'video' %>
  <% current = @instance.repeaters.select{|r| r.id == f.object.id}.first.find_or_create_a_field_by( repeater_setting_child.id, 'video' ) %>
  <%= f.simple_fields_for "videos_attributes[]", current do |ff| %>
    <%= render 'binda/fieldable/form_item_video', ff: ff, field_setting: repeater_setting_child %>
  <% end %>



<%# - - - - - - - - - - - - %>
<%# RELATED_FIELD           %>
<%# - - - - - - - - - - - - %>
<% elsif repeater_setting_child.field_type == 'relation' %>
    <% current = @instance.repeaters.select{|r| r.id == f.object.id}.first.find_or_create_a_field_by( repeater_setting_child.id, 'relation' ) %>
    <%= f.simple_fields_for "relations_attributes[]", current do |ff| %>
        <%= render 'binda/fieldable/form_item_relation', ff: ff, field_setting: repeater_setting_child %>
    <% end %>

<%# - - - - - - - - - - - - %>
<%# SELECTABLES             %>
<%# - - - - - - - - - - - - %>
<% elsif ['radio', 'selection', 'checkbox'].include? repeater_setting_child.field_type %>
  <%# current = f.object.find_or_create_a_field_by( repeater_setting_child.id, 'radio' ) %>
  <%= render 'binda/fieldable/form_item_selections', f: f, field_setting: repeater_setting_child %>

<% end %>
