  <!-- The global progress bar -->
  <div class="fileupload--details fileupload--details--hidden"><!-- The container for the uploaded files -->
    <div class="progress">
      <div class="progress-bar progress-bar-striped progress-bar-animated active"></div>
    </div>
    <div class="fileupload--files">
      <p class="fileupload--filename">&nbsp;</p>
    </div>
  </div>
  
  <div class="standard-form--container">
      
      <%= simple_form_for [ @instance.structure, @instance ], defaults: { label: false }, html: { class: 'form-body',multipart: true } do |f| %>
        <%= f.error_notification %>
        
        <%# - - - - - - - - - - - - %>
        <%# SET POSITION            %>
        <%# - - - - - - - - - - - - %>
        <% unless f.object.new_record? %>
          <%= f.input :position, as: :hidden %>
        <% end %>

        <div class="standard-form--body">

            <%# - - - - - - - - - - - - %>
            <%# NOTICE / ERRORS         %>
            <%# - - - - - - - - - - - - %>
            <div class="standard-form--section--wide-container">

                <h4><%= "#{ t :details }".capitalize %></h4>

                <h5><%= "#{ t :title }".capitalize %></h5>
                <%= f.input :name %>
                
                <% if f.object.slug.nil? %>
                  <%= f.input :slug, as: :hidden %>
                <% else %>
                  <h5><%= "#{ t :slug }".capitalize %></h5>
                  <%= f.input :slug, disabled: true, hint: "#{ t :slug_disable_hint }" %>
                <% end %>

                <%= f.input :structure_id, as: :hidden, input_html: { value: @structure.id } %>
                
            </div>

            <%# - - - - - - - - - - - - %>
            <%# FIELD GROUP LOOP        %>
            <%# - - - - - - - - - - - - %>
            <% @structure.field_groups.order( :position, :name ).each_with_index do |field_group, index| %>
            <div class="standard-form--section--wide-container">

              <h4><%= field_group.name.capitalize %></h4>

              <% if f.object.new_record? %>

                <h5><%= t( :hint_create_parent_before_child, arg1: "#{ t :instance }", arg2: "#{ t :detail }" ).capitalize %></h5>
              
              <% else %>

                <% field_group.field_settings.order( :position, :name ).each do |field_setting| %>
                  <% next unless field_setting.is_root? %>
                  <%= render "binda/fieldable/form_section", f: f, field_setting: field_setting %>
                <% end %>

              <% end %>

            </div>
            <% end %>

          </div>
          <div class="standard-form--sidebar">

            <%# - - - - - - - - - - - - %>
            <%# SIDEBAR                 %>
            <%# - - - - - - - - - - - - %>
            <div class="standard-form--section--narrow-container row">
              <div class="col-sm-12">

                <%= render "binda/fieldable/form_sidebar", f: f %>

              </div>
            </div>
            
          </div>
        </div>
      
      <% end %>
    </div>
  </div>