<h4><%= "#{ t :field_group }".pluralize.capitalize %></h4>

<%= f.simple_fields_for :field_groups do |ff| %>

  <div class="parent-group-form--child">

		<%= ff.input :structure_id, as: :hidden %>
		<%= ff.input :id, as: :hidden %>

	  <% unless ff.object.slug.nil? %>
	  
			<a href="<%= structure_field_group_path( @structure.slug, ff.object.slug ) %>" data-method="delete" data-confirm="This operation will delete this group and all related field settings and component content. Are you ok with that?"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
			<a href="<%= structure_field_group_path( @structure.slug, ff.object.slug ) %>"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>

	  <% end %>

	  <h5 class="parent-group-form--child-name"><%= "#{ t :name }".capitalize %></h5>
		<%= ff.input :name %>

	  <% unless ff.object.slug.nil? %>

      <h5><%= "#{ t :slug }".capitalize %></h5>
      <%= ff.input :slug, as: :string, input_html: { class: "parent-group-form--child-input" } %>

	  <% end %>

	</div>

<% end %>

<%= f.simple_fields_for 'new_field_groups[]', @structure.field_groups.build() do |ff| %>
	<div id="new-child-1" class="parent-group-form--child parent-group-form--new-child">
		<%= ff.input :structure_id, as: :hidden %>
		<%= ff.input :id, as: :hidden %>
	  <h5 class="parent-group-form--child-name"><%= "#{ t :name }".capitalize %></h5>
		<%= ff.input :name %>
	</div>
<% end %>


<% if parent_group.slug.nil? %>
  <h5><%= t( :hint_create_parent_before_child, arg1: "#{ t :structure }", arg2: "#{ t :field_group }" ).capitalize %></h5>
<% else %>
  <a class="parent-group-form--add-child main-header--link btn btn-default" href="<%= new_structure_field_group_path( @structure.slug ) %>" data-new-child-id="new-child-1"><%= "#{ t :new }".capitalize %> <%= t :field_group %></a>
<% end %>
