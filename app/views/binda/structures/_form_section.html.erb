<div class="standard-form--header">
  <p><%= "#{ t :field_group }".pluralize.capitalize %></p>
</div>

<%# - - - - - - - - - - - - %>
<%# FORM ITEM               %>
<%# - - - - - - - - - - - - %>
<%= f.simple_fields_for :field_groups, f.object.field_groups.order( :position, :name ) do |ff| %>

  <div id="form-item-<%= ff.object.id %>" class="form-item">

		<%= ff.input :structure_id, as: :hidden %>
		<%= ff.input :id, as: :hidden %>


		<%# - - - - - - - - - - - - %>
		<%# EDIT/REMOVE BUTTONS     %>
		<%# - - - - - - - - - - - - %>

    <div class="standard-form--header main-actions-header">

      <% unless ff.object.slug.nil? %>

        <%= link_to  "<i class=\"far fa-trash-alt\"></i>".html_safe,
                     structure_field_group_path( @structure.slug, ff.object.slug ),
                     method: :delete,
                     data: { confirm: 'Are you sure?' },
                     class: 'text-destroy' %>

        <%= link_to "<i class=\"fas fa-pencil-alt\"></i>".html_safe,
                    structure_field_group_path( @structure.slug, ff.object.slug ) %>

      <% end %>

    </div>

		<%# - - - - - - - - - - - - %>
		<%# NAME                    %>
		<%# - - - - - - - - - - - - %>
		<%= ff.input :name, label: "#{ t :name }".capitalize  %>


		<%# - - - - - - - - - - - - %>
		<%# SLUG                    %>
		<%# - - - - - - - - - - - - %>
	  <% unless ff.object.slug.nil? %>
      <%= ff.input :slug, as: :string, input_html: { class: "form-item--input" } %>
	  <% end %>

	</div>

<% end %>


<%# - - - - - - - - - - - - %>
<%# FORM NEW ITEM           %>
<%# - - - - - - - - - - - - %>
<%= f.simple_fields_for 'new_field_groups[]', @structure.field_groups.build() do |ff| %>
	<div id="new-child-1" class="form-item form-item--new">
		<%= ff.input :structure_id, as: :hidden %>
		<%= ff.input :id, as: :hidden %>
		<%= ff.input :name, label: "#{ t :name }".capitalize %>
	</div>
<% end %>


<%# - - - - - - - - - - - - - - %>
<%# 'ADD NEW FORM ITEM' BUTTON  %>
<%# - - - - - - - - - - - - - - %>
<% if section.slug.nil? %>
  <p class="standard-form--suggestion"><%= t( :hint_create_parent_before_child, arg1: "#{ t :structure }", arg2: "#{ t :field_group }" ).capitalize %></p>
<% else %>
  <a class="form-item--add-new main-header--link b-btn b-btn-primary b-btn-settings" href="<%= new_structure_field_group_path( @structure.slug ) %>" data-new-child-id="new-child-1"><%= "#{ t :new }".capitalize %> <%= t :field_group %></a>
<% end %>