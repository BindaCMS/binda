<h4><%= "#{ t :field_group }".pluralize.capitalize %></h4>


<%# - - - - - - - - - - - - %>
<%# FORM ITEM               %>
<%# - - - - - - - - - - - - %>
<%= f.simple_fields_for :field_groups, f.object.field_groups.order( :position, :name ) do |ff| %>

  <div id="form-item-<%= ff.object.id %>" class="form-item">

		<%= ff.input :structure_id, as: :hidden %>
		<%= ff.input :id, as: :hidden %>


		<%# - - - - - - - - - - - - %>
		<%# EDIT/REMOVE BUTTONS     %>
		<%# - - - - - - - - - - - - %>
	  <% unless ff.object.slug.nil? %>
			<a href="<%= structure_field_group_path( @structure.slug, ff.object.slug ) %>" data-method="delete" data-confirm="This operation will delete this group and all related field settings and component content. Are you ok with that?"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
			<a href="<%= structure_field_group_path( @structure.slug, ff.object.slug ) %>"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
	  <% end %>


		<%# - - - - - - - - - - - - %>
		<%# NAME                    %>
		<%# - - - - - - - - - - - - %>
	  <h5 class="form-item--name"><%= "#{ t :name }".capitalize %></h5>
		<%= ff.input :name %>


		<%# - - - - - - - - - - - - %>
		<%# SLUG                    %>
		<%# - - - - - - - - - - - - %>
	  <% unless ff.object.slug.nil? %>
      <h5><%= "#{ t :slug }".capitalize %></h5>
      <%= ff.input :slug, as: :string, input_html: { class: "form-item--input" } %>
	  <% end %>

	</div>

<% end %>


<%# - - - - - - - - - - - - %>
<%# FORM NEW ITEM           %>
<%# - - - - - - - - - - - - %>
<%= f.simple_fields_for 'new_field_groups[]', @structure.field_groups.build() do |ff| %>
	<div id="new-child-1" class="form-item form-item--new">
		<%= ff.input :structure_id, as: :hidden %>
		<%= ff.input :id, as: :hidden %>
	  <h5 class="form-item--name"><%= "#{ t :name }".capitalize %></h5>
		<%= ff.input :name %>
	</div>
<% end %>


<%# - - - - - - - - - - - - - - %>
<%# 'ADD NEW FORM ITEM' BUTTON  %>
<%# - - - - - - - - - - - - - - %>
<% if section.slug.nil? %>
  <h5><%= t( :hint_create_parent_before_child, arg1: "#{ t :structure }", arg2: "#{ t :field_group }" ).capitalize %></h5>
<% else %>
  <a class="form-item--add-new main-header--link btn btn-default" href="<%= new_structure_field_group_path( @structure.slug ) %>" data-new-child-id="new-child-1"><%= "#{ t :new }".capitalize %> <%= t :field_group %></a>
<% end %>
